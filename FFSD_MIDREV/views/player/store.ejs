<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChessHive Store</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/primary_styles.css">
    <script src="/js/wallet.js"></script>
</head>
<body>
    <div class="container2">
        <h2 class="black-h2">ChessHive Store</h2>
        
        <!-- Wallet Section -->
        <div class="wallet-section">
            <h3 class="black-h2">Wallet Balance: $<span id="walletBalance"><%= walletBalance %></span></h3>
            <div class="store">
                <button class="store-button" onclick="addFunds()">Add Funds</button>
            </div>
        </div>
        
        <!-- Store Products Section -->
        <div class="store-items">
            <% if (typeof products !== "undefined" && products.length > 0) { %>
                <% products.forEach(product => { %>
                    <div class="product-card">
                        <div class="product-image">
                            <img src="<%= product.imageUrl %>" alt="<%= product.name %>">
                        </div>
                        <h3><%= product.name %></h3>
                        <p class="price">Price: $<%= product.price %></p>
                        <p class="added-by">Added by: <%= product.coordinator %> (<%= product.college %>)</p>
                        <button class="buy-button" onclick="buyProduct(`<%= product.id %>`, `<%= product.price %>`)">Buy</button>
                    </div>
                <% }); %>
            <% } else { %>
                <p>No products available.</p>
            <% } %>
        </div>
        
        <div class="form-container back-container">
            <a href="/player/player_dashboard" class="back">Back to Dashboard</a>
        </div>
    </div> 
</body>
</html>
